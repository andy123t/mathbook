% !TEX program = xelatex

\documentclass[a4paper,12pt]{article}

%-----中文宏包-----
\usepackage[UTF8]{ctex}

%-----数学宏包-----
\usepackage{amsmath,amsthm,amssymb}
\usepackage{mathrsfs}

%-----draft下 label提示-----
%\usepackage[notcite,notref]{showkeys}
%-----页面布局-----
\usepackage{geometry}
\geometry{left=1.25in,right=1.25in,top=1in,bottom=1in}
%\geometry{left=1in,right=1in,top=1in,bottom=1in}
\setlength{\headheight}{18pt}
\setlength{\headsep}{18pt}
\setlength{\footskip}{25pt}

%----- 设置超链接 -----
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=black,
  citecolor=blue,
  filecolor=blue,
  urlcolor=blue
}
% 设置颜色
\usepackage{color,xcolor}
% 插入图片
\usepackage{graphicx}
%\usepackage{epsfig}
%-----设置表格-----
\usepackage{tabularx,array}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{fancybox}
%-----调整单元格格式-----
\usepackage{makecell}
%-----操作字符串-----
\usepackage{xstring}
%-----多语种处理-----
%\usepackage[english]{babel}
%-----设置代码环境-----
\usepackage{listings}
%-----设置章节标题和目录-----
%\usepackage{titletoc}
\usepackage{titlesec}
%-----数学公式扩展-----
\usepackage{mathtools}
%-----浮动体设置-----
\usepackage{float}
%-----书签设置-----
\usepackage[numbered]{bookmark}
%-----设置页眉页脚格式-----
\usepackage{fancyhdr}
%-----完善排版细节-----
%\usepackage{microtype}

%----- 设置行间距 -----
\renewcommand*{\baselinestretch}{1.35}

%----- 定义列表项的样式 -----
\usepackage{enumitem}
\setlist{nolistsep}
%\setlength{\itemsep}{3pt plus1pt minus2pt}


%----- 设置字体 -----
%\usepackage[no-math]{fontspec}
%\usepackage{newtxtext}  % New TX font for text
%\setmainfont{TeX Gyre Termes}  % Times New Roman 的开源复刻版本
%\setsansfont{TeX Gyre Heros}   % Helvetica 的开源复刻版本
%\setmonofont{TeX Gyre Cursor}  % Courier New 的开源复刻版本
%\setmainfont{Times New Roman}
%\setsansfont{Arial}
%\setmonofont{Courier New}

%\setCJKfamilyfont{kai}[AutoFakeBold]{simkai.ttf}
%\newcommand*{\kai}{\CJKfamily{kai}}
%\setCJKfamilyfont{song}[AutoFakeBold]{SimSun}
%\newcommand*{\song}{\CJKfamily{song}}

%----- 设置数学字体 -----
%\usepackage{newtxmath}
%\usepackage{mathptmx}


%----- 设置节标题格式 -----
\titleformat{\section}{\bfseries\zihao{3}}{\arabic{section}}{1em}{}
\titleformat{\subsection}{\bfseries\zihao{4}}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\bfseries\zihao{-4}}{\thesubsection}{1em}{}

%----- 参考文献格式 -----
%\bibliographystyle{plain} % abbrv, unsrt, siam
\bibliographystyle{thuthesis-numeric}
%\bibliographystyle{thuthesis-author-year}

%----- 参考文献引用格式 -----
\usepackage[numbers,sort&compress]{natbib}
%\usepackage[numbers,super,square,sort&compress]{natbib}
\def\bibfont{\small}  % 修改参考文献字体
\setlength{\bibsep}{7pt plus 3pt minus 3pt}  % 调整参考文献间距


%----- 算法宏包及设置 -----
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\floatname{algorithm}{算法}
\algrenewcommand\algorithmicrequire{\textbf{输入:}}
\algrenewcommand\algorithmicensure{\textbf{输出:}}

%----- 添加自己要用的其他宏包 -----
\usepackage{subfig}
%\usepackage{xltxtra}

%\usepackage[cleardoublepage=plain]{scrextend}

%----- 设置定理环境 -----
\newtheoremstyle{plain}
{0.5\topsep}{0.5\topsep}
{\itshape}{}{\bfseries}
{.}{5pt plus 1pt minus 1pt}{}
\theoremstyle{plain}
\newtheorem{definition}{定义}[section]
\newtheorem{proposition}{命题}[section]
\newtheorem{lemma}{引理}[section]
\newtheorem{theorem}{定理}[section]
\newtheorem{example}{例}[section]
\newtheorem{corollary}{推论}[section]
\newtheorem{remark}{注}[section]
\newtheorem{exercise}{练习}[section]
\newtheorem{assumption}{假设}[section]
\newtheorem{axiom}{公理}[section]
\newtheorem{property}{性质}[section]
\newtheorem{conjecture}{猜想}[section]
\renewcommand{\proofname}{证明}
\makeatletter
\renewenvironment{proof}[1][\proofname]{\par
  \pushQED{\qed}%
  %\normalfont \topsep6\p@\@plus6\p@\relax
  \normalfont \topsep0\p@\@plus3\p@\relax
  \trivlist\item[\hskip\labelsep
  \bfseries #1\@addpunct{\,:\,}]\ignorespaces
}{%
  \popQED\endtrivlist\@endpefalse
}
\makeatother

%----- 证明结束黑框 -----
%\renewcommand{\qedsymbol}{$\blacksquare$}

%----- 设置代码高亮 -----
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.58}

\lstset{
  xleftmargin=10pt,
  xrightmargin=10pt,
  frame=tlbr, framesep=4pt, framerule=0.5pt, %frame=tb,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  framerule=1pt,
  rulecolor=\color{gray!35},
  backgroundcolor=\color{gray!5},
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3,
}

%----- 设置浮动体间距 -----
\setlength{\textfloatsep}{0pt}
\setlength{\floatsep}{10pt plus 3pt minus 2pt}
\setlength{\intextsep}{10pt}
\setlength{\abovecaptionskip}{2pt plus1pt minus1pt}
\setlength{\belowcaptionskip}{3pt plus1pt minus2pt}
%\setlength{\itemsep}{3pt plus1pt minus2pt}

%-----设置图片的路径 -----
\graphicspath{{./figure/}{./figures/}}

%----- 设置公式间距 -----
\AtBeginDocument{
  \setlength{\abovedisplayskip}{5pt plus1pt minus1pt}
  \setlength{\belowdisplayskip}{5pt plus1pt minus1pt}
  \setlength{\abovedisplayshortskip}{2pt}
  \setlength{\belowdisplayshortskip}{2pt}
  \setlength{\arraycolsep}{2pt}
}

%----- maketitle -----
\makeatletter
\def\@maketitle{%
  \newpage
  \null
  %\vspace{-1.5em}%
  \begin{center}%
  \let \footnote \thanks
    {\LARGE \bfseries \@title \par}%
    \vskip 1.5em%
    {\large
      \lineskip 0.5em%
      \begin{tabular}[t]{c}%
        \@author
      \end{tabular}\par}%
    \vskip 0.5em%
    {\large \@date}%
  \end{center}%
  \par
  \vskip 1em
}
\makeatother
%----- abstract -----
\renewenvironment{abstract}{
  \phantomsection%
  \addcontentsline{toc}{section}{摘要}
  \hrule height 0.5pt%
  \bigskip
  \textbf{摘~要：}\ignorespaces
}{%
  \bigskip
  \hrule height 0.5pt%
}


%----- 微分符号 -----
\newcommand{\dif}{\mathop{}\!\mathrm{d}}

%----- 定义新命令 -----
\newcommand{\CC}{\ensuremath{\mathbb{C}}}
\newcommand{\RR}{\ensuremath{\mathbb{R}}}
\newcommand{\abs}[1]{\lvert#1\rvert}
\newcommand{\norm}[1]{\lVert#1\rVert}
\newcommand{\dx}[1][x]{\mathop{}\!\mathrm{d}#1}
\newcommand{\ii}{\mathrm{i}\mkern1mu} % imaginary
\newcommand{\refe}[2]{(\ref{#1})--(\ref{#2})}
\newcommand{\A}{\mathcal{A}}
\newcommand{\bA}{\boldsymbol{A}}
\newcommand{\red}[1]{\textcolor{red}{#1}}


%----- 题目等信息 -----
\title{小论文的题目}
\author{作者}
\date{\today}


\begin{document}

%----- 题目作者及摘要  -----
\maketitle

\begin{abstract}
摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容. 摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容摘要内容.

\medskip
\noindent \textbf{关键词：} 关键词 1, ~ 关键词 2, ~ 关键词 3
\end{abstract}


%%%%%%%%%%%%%%%%%%% 正文  %%%%%%%%%%%%%%%%%%


\section{列表的使用}

\subsection{计数}

这是一个计数的列表.
\begin{enumerate}%[label={\rm (\arabic*)}]%\roman
  \item 第一项
    \begin{enumerate}
      \item 第一项中的第一项
      \item 第一项中的第二项
    \end{enumerate}
  \item 第二项
  \item 第三项
\end{enumerate}


这是一个不计数的列表.
\begin{itemize}%[label={$\bullet$}]
  \item 第一项
  \begin{itemize}
    \item 第一项中的第一项
    \item 第一项中的第二项
  \end{itemize}
  \item 第二项
  \item 第三项
\end{itemize}


\section{文献引用}

参考文献可采用 BibTeX 的方式生成 (文献信息写在文件 \verb|reference.bib| 中),
参考文献的样式为 \verb|thuthesis-numeric| (对应的引用格式可选 \verb|numbers| 或  \verb|super|)
和 \verb|thuthesis-author-year| (对应的引用格式 \verb|authoryear|),
符合国家标准《信息与文献参考文献著录规则》GB/T 7714-2015, 论文中引用和参考的文献必须列出.
参考文献序号按所引文献在论文中出现的先后次序排列.
引用文献应在论文中的引用处加注文献序号, 并加注方括弧.

文献引用示例 \cite{Tadmor2012} 和 \cite{LiLiu1997,Adams2003,TreWei2014}.

文献引用示例 \cite{LiLiu1997} 和 \cite{Adams2003,Shen1994}.


\section{数学公式}

\subsection{公式}
数学公式的使用请参考《一份(不太)简短的 \LaTeX~2$\varepsilon$ 介绍》 (lshort-zh-cn), 更多的数学符号参考 The Comprehensive LaTeX Symbol List (symbols-a4).

自定义命令表示的几个数学符号 $\RR$, $\CC$, $\A$, $\ii$, $\bA$. 微分符号 $\dif$ 以及 $\dx$, $\dx[t]$.

在文中行内公式可以这么写: $a^2+b^2=c^2$, 这是勾股定理, 它还可以表示为 $c=\sqrt{a^2+b^2}$, 还可以让公式单独一段并且加上编号
\begin{equation}\label{eq:trifun}
\sin^2{\theta}+\cos^2{\theta}=1.
\end{equation}
还可以通过添加标签在正文中引用公式, 如等式~\eqref{eq:trifun} 或者 \ref{eq:trifun}.

读者可能阅读过其它手册或者资料, 知道 LaTeX 提供了 eqnarray 环境. 它按照等号左边—等号—等号右边呈三列对齐, 但等号周围的空隙过大, 加上公式编号等一些 bug, 目前已不推荐使用. (摘自 lshort-zh-cn)

多行公式常用 align 环境, 公式通过 \verb|&| 对齐. 分隔符通常放在等号左边:
\begin{align}
a & = b + c \\
& = d + e.
\end{align}

align 环境会给每行公式都编号. 我们仍然可以用 \verb|\notag| 或 \verb|\nonumber| 去掉某行的编号. 在以下的例子,
为了对齐等号, 我们将分隔符放在右侧, 并且此时需要在等号后添加一对括号 \verb|{}| 以产生正常的间距:
\begin{align}
a ={} & b + c \\
={} & d + e + f + g + h + i + j \notag \\
& + m + n + o \\
={} & p + q + r + s.
\end{align}

如果不需要按等号对齐, 只需罗列数个公式, gather 将是一个很好用的环境:
\begin{gather}
a = b + c \\
d = e + f + g \notag \\
h + i = j
\end{gather}

align 和 gather 有对应不带编号的环境 align* 和 gather*.
对于 align, gather, align* 与 gather* 等环境, 若添加命令 \verb|\allowdisplaybreaks| 后 (已添加), 公式可以跨页显示.

多个公式组在一起公用一个编号, 编号位于公式的居中位置, amsmath 宏包提供了诸如 aligned、gathered 等环境, 与 equation 环境套用.

这个公式使用 aligned 环境 (\textbf{推荐使用})
\begin{equation}\label{eq:alignedEq}
\left\{\begin{aligned}
  &-\frac{{\dif}^{2} u}{\dif x^{2}}+\frac{\mathrm{d} u}{\dif x}=\pi^{2} \sin (\pi x)+\pi \cos (\pi x),\quad x \in [0,1], \\
  &u(0)=0,\quad u(1)=0.
\end{aligned} \right.
\end{equation}
其中方程的解析解为 $u=\sin(\pi x)$.

这个公式使用 array 环境
\begin{equation}\label{eq:arrayEq}
\left\{\begin{array}{l}
\displaystyle
-\frac{{\dif}^{2} u}{\dif x^{2}}+\frac{\dif u}{\dif x}=\pi^{2} \sin (\pi x)+\pi \cos (\pi x),\quad x \in [0,1], \\[6pt]
u(0)=0,\quad u(1)=0.
\end{array} \right.
\end{equation}

aligned 与 equation 环境套用, 公式间距自动调节, 如果有分式, 分式也是行间显示. 如果用 array 与 equation 环境套用, 需要手动调整公式行间距和行间显示.

\subsection{定理环境}

\begin{definition}\label{def:foo}
这是一个定义.
\end{definition}

\begin{proposition}\label{prop:foo}
这是一个命题.
\end{proposition}

\begin{lemma}[Lemma]\label{lmm:foo}
这是一个引理.
\end{lemma}

\begin{theorem}[Theorem]\label{thm:foo}
这是一个定理.
\end{theorem}
\begin{proof}
这是证明环境.
\end{proof}

\begin{corollary}\label{cor:foo}
这是一个推论.
\end{corollary}

\begin{proposition}[Proposition]
这是一个命题.
\end{proposition}

\begin{theorem}\label{thm:convergence}
假设单步法具有 $p$ 阶精度, 且増量函数 $\varphi(x_{n}, u_{n}, h)$ 关于 $u$ 满足 Lipschitz 条件
\begin{equation}\label{eq:conver2}
|\varphi(x, u, h)-\varphi(x, \bar{u}, h)| \leqslant L_{\varphi}|u-\bar{u}|.
\end{equation}
\end{theorem}
\begin{proof}[\normalfont\bfseries 证明~\nopunct]
由定理 \ref{thm:foo} 和 \eqref{eq:alignedEq} 式可以推出以上结论.
\end{proof}

\begin{remark}\label{rem:remark}
这是一个 remark.
\end{remark}

\begin{example}
这是一个例子.
\end{example}



%%%%%%%%%%%%%%%%%%%% 参考文献 %%%%%%%%%%%%%%%%%%%%

% 生成参考文献
\phantomsection
\addcontentsline{toc}{section}{参考文献} % 添加  "参考文献 " 到目录

% 生成参考文献, 两种方式任选一种

% 第一种方式, 使用 bib 文件

%\nocite{*}  % 可以暂时显示全部参考文献, 包括未引用的
\bibliography{reference}


%-------------------------------------

% 第二种方式, 手动添加文献信息

%\begin{thebibliography}{99}
%\bibitem{Tadmor2012} Tadmor~E. A review of numerical methods for nonlinear partial differential equations\allowbreak[J]. Bull. Amer. Math. Soc., 2012, 49(4): 507-554.
%
%\bibitem{LiLiu1997} 李荣华, 刘播. 微分方程数值解法\allowbreak[M]. 第四版. 北京: 高等教育出版社, 2009.
%
%\bibitem{Adams2003} Adams~R~A, Fournier~J~J~F. Sobolev spaces\allowbreak[M]. 2nd ed. Amsterdam: Elsevier, 2003.
%
%\bibitem{TreWei2014}Trefethen~L~N, Weideman~J~A~C. The exponentially convergent trapezoidal rule\allowbreak[J]. SIAM Rev., 2014, 56(3): 385-458.
%
%\bibitem{Shen1994} Shen~J. Efficient spectral-Galerkin method I. Direct solvers of second- and fourth-order equations using Legendre polynomials\allowbreak[J]. SIAM J. Sci. Comput., 1994, 15(6): 1489-1505.
%
%\end{thebibliography}


\section*{MATLAB 源程序}
\begin{lstlisting}[language=matlab]
clc;clear;
row = size(A)
row = size(A,1)
column = size(A,2)
[row,column] = size(A)
\end{lstlisting}



\end{document}

